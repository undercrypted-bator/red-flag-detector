<!DOCTYPE html>
<html>
<head>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9518032393103480"
     crossorigin="anonymous"></script>
  <title>Accuracy Stats</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black text-white min-h-screen flex items-center justify-center">

<div class="bg-zinc-900 p-6 rounded-xl text-center w-80">
  <h1 class="text-xl font-bold mb-4">Prediction Accuracy</h1>

  <p id="agree" class="mb-2">ğŸ‘ Agree: 0</p>
  <p id="disagree" class="mb-2">ğŸ‘ Disagree: 0</p>
  <p id="accuracy" class="font-bold mt-4">Accuracy: 0%</p>

  <button onclick="downloadCSV()"
    class="bg-blue-600 mt-4 px-4 py-2 rounded">
    Download CSV
  </button>

  <a href="index.html" class="text-blue-400 mt-4 block">â† Back to App</a>
</div>

<script>
  const agree = parseInt(localStorage.getItem("agree") || "0");
  const disagree = parseInt(localStorage.getItem("disagree") || "0");
  const total = agree + disagree;
  const accuracy = total === 0 ? 0 : Math.round((agree / total) * 100);

  document.getElementById("agree").innerText = "ğŸ‘ Agree: " + agree;
  document.getElementById("disagree").innerText = "ğŸ‘ Disagree: " + disagree;
  document.getElementById("accuracy").innerText = "Accuracy: " + accuracy + "%";

  function downloadCSV() {
    const csv = "agree,disagree\n" + agree + "," + disagree;
    const blob = new Blob([csv], { type: "text/csv" });
    const url = URL.createObjectURL(blob);

    const a = document.createElement("a");
    a.href = url;
    a.download = "feedback.csv";
    a.click();
    URL.revokeObjectURL(url);
  }
</script>

</body>
</html>
